{
  "version": 3,
  "sources": ["../../../synapse_worker.js"],
  "sourceRoot": "C:\\Users\\yagam\\OneDrive\\Desktop\\YEDAN-AGI\\.wrangler\\tmp\\deploy-5QYyZl",
  "sourcesContent": ["/**\r\n * YEDAN AGI - Synapse Worker\r\n * Bridges Tampermonkey (Slow Brain) with Cloudflare KV (Neural Bus)\r\n * \r\n * Deployed to: https://synapse.yagami8095.workers.dev\r\n */\r\n\r\nexport default {\r\n  async fetch(request, env, ctx) {\r\n    // CORS headers for Tampermonkey access\r\n    const corsHeaders = {\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\r\n      \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\",\r\n    };\r\n\r\n    // Handle preflight\r\n    if (request.method === \"OPTIONS\") {\r\n      return new Response(null, { headers: corsHeaders });\r\n    }\r\n\r\n    const url = new URL(request.url);\r\n    const path = url.pathname;\r\n\r\n    try {\r\n      // === HEARTBEAT ===\r\n      if (path === \"/heartbeat\" && request.method === \"POST\") {\r\n        await env.YEDAN_KV.put(\"synapse:heartbeat\", new Date().toISOString(), {\r\n          expirationTtl: 120\r\n        });\r\n        return json({ success: true, message: \"Heartbeat received\" }, corsHeaders);\r\n      }\r\n\r\n      // === GET VALUE ===\r\n      if (path.startsWith(\"/get/\") && request.method === \"GET\") {\r\n        const key = path.replace(\"/get/\", \"\");\r\n        const value = await env.YEDAN_KV.get(key);\r\n        return json({ success: true, key, value }, corsHeaders);\r\n      }\r\n\r\n      // === SET VALUE ===\r\n      if (path.startsWith(\"/set/\") && request.method === \"POST\") {\r\n        const key = path.replace(\"/set/\", \"\");\r\n        const body = await request.json();\r\n        const ttl = body.ttl || 3600; // Default 1 hour\r\n        \r\n        await env.YEDAN_KV.put(key, JSON.stringify(body.value), {\r\n          expirationTtl: ttl\r\n        });\r\n        return json({ success: true, key, ttl }, corsHeaders);\r\n      }\r\n\r\n      // === SUBMIT TASK ===\r\n      if (path === \"/task/submit\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        const taskId = `task_${Date.now()}`;\r\n        \r\n        const task = {\r\n          task_id: taskId,\r\n          type: body.type,\r\n          data: body.data,\r\n          status: \"pending\",\r\n          created_at: new Date().toISOString()\r\n        };\r\n        \r\n        await env.YEDAN_KV.put(`synapse:task:${taskId}`, JSON.stringify(task), {\r\n          expirationTtl: 300\r\n        });\r\n        \r\n        // Add to task queue\r\n        const queue = JSON.parse(await env.YEDAN_KV.get(\"synapse:task_queue\") || \"[]\");\r\n        queue.push(taskId);\r\n        await env.YEDAN_KV.put(\"synapse:task_queue\", JSON.stringify(queue));\r\n        \r\n        return json({ success: true, task_id: taskId }, corsHeaders);\r\n      }\r\n\r\n      // === GET PENDING TASKS (for Tampermonkey to poll) ===\r\n      if (path === \"/task/pending\" && request.method === \"GET\") {\r\n        const queue = JSON.parse(await env.YEDAN_KV.get(\"synapse:task_queue\") || \"[]\");\r\n        const tasks = [];\r\n        \r\n        for (const taskId of queue) {\r\n          const task = await env.YEDAN_KV.get(`synapse:task:${taskId}`);\r\n          if (task) {\r\n            const parsed = JSON.parse(task);\r\n            if (parsed.status === \"pending\") {\r\n              tasks.push(parsed);\r\n            }\r\n          }\r\n        }\r\n        \r\n        return json({ success: true, tasks }, corsHeaders);\r\n      }\r\n\r\n      // === COMPLETE TASK (Tampermonkey submits result) ===\r\n      if (path === \"/task/complete\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        const taskId = body.task_id;\r\n        \r\n        const taskData = await env.YEDAN_KV.get(`synapse:task:${taskId}`);\r\n        if (!taskData) {\r\n          return json({ success: false, error: \"Task not found\" }, corsHeaders, 404);\r\n        }\r\n        \r\n        const task = JSON.parse(taskData);\r\n        task.status = \"completed\";\r\n        task.result = body.result;\r\n        task.completed_at = new Date().toISOString();\r\n        \r\n        await env.YEDAN_KV.put(`synapse:task:${taskId}`, JSON.stringify(task), {\r\n          expirationTtl: 3600\r\n        });\r\n        \r\n        // Store result separately for fast retrieval\r\n        await env.YEDAN_KV.put(`synapse:result:${taskId}`, JSON.stringify(body.result), {\r\n          expirationTtl: 3600\r\n        });\r\n        \r\n        // Remove from queue\r\n        const queue = JSON.parse(await env.YEDAN_KV.get(\"synapse:task_queue\") || \"[]\");\r\n        const newQueue = queue.filter(id => id !== taskId);\r\n        await env.YEDAN_KV.put(\"synapse:task_queue\", JSON.stringify(newQueue));\r\n        \r\n        return json({ success: true, task_id: taskId }, corsHeaders);\r\n      }\r\n\r\n      // === GET TASK RESULT ===\r\n      if (path.startsWith(\"/task/result/\") && request.method === \"GET\") {\r\n        const taskId = path.replace(\"/task/result/\", \"\");\r\n        const result = await env.YEDAN_KV.get(`synapse:result:${taskId}`);\r\n        \r\n        if (result) {\r\n          return json({ success: true, task_id: taskId, result: JSON.parse(result) }, corsHeaders);\r\n        }\r\n        return json({ success: false, error: \"Result not found\" }, corsHeaders, 404);\r\n      }\r\n\r\n      // === STATUS CHECK ===\r\n      if (path === \"/status\" && request.method === \"GET\") {\r\n        const heartbeat = await env.YEDAN_KV.get(\"synapse:heartbeat\");\r\n        const isAlive = heartbeat && (Date.now() - new Date(heartbeat).getTime()) < 120000;\r\n        \r\n        return json({\r\n          success: true,\r\n          slow_brain_alive: isAlive,\r\n          last_heartbeat: heartbeat,\r\n          timestamp: new Date().toISOString()\r\n        }, corsHeaders);\r\n      }\r\n\r\n      // === SET STRATEGY ===\r\n      if (path === \"/strategy\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        await env.YEDAN_KV.put(\"synapse:strategy\", JSON.stringify({\r\n          strategy: body.strategy,\r\n          reasoning: body.reasoning || \"\",\r\n          updated_at: new Date().toISOString()\r\n        }));\r\n        return json({ success: true, strategy: body.strategy }, corsHeaders);\r\n      }\r\n\r\n      // === GET STRATEGY ===\r\n      if (path === \"/strategy\" && request.method === \"GET\") {\r\n        const strategy = await env.YEDAN_KV.get(\"synapse:strategy\");\r\n        return json({ \r\n          success: true, \r\n          ...JSON.parse(strategy || '{\"strategy\":\"NEUTRAL\"}') \r\n        }, corsHeaders);\r\n      }\r\n\r\n      // === SEND ALERT (to Telegram) ===\r\n      if (path === \"/alert\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        \r\n        const message = `\uD83D\uDD14 *YEDAN SYNAPSE ALERT*\\n\\n\uD83D\uDCCC Type: ${body.type}\\n\uD83D\uDCAC ${body.message}`;\r\n        \r\n        await fetch(`https://api.telegram.org/bot${env.TELEGRAM_BOT_TOKEN}/sendMessage`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            chat_id: env.TELEGRAM_CHAT_ID,\r\n            text: message,\r\n            parse_mode: \"Markdown\"\r\n          })\r\n        });\r\n        \r\n        return json({ success: true, sent: true }, corsHeaders);\r\n      }\r\n\r\n      // === OPAL WEBHOOK (receives content from Google Opal) ===\r\n      if (path === \"/opal/webhook\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        const contentId = `opal_${Date.now()}`;\r\n        \r\n        // Store generated content\r\n        await env.YEDAN_KV.put(`opal:content:${contentId}`, JSON.stringify({\r\n          id: contentId,\r\n          type: body.type || \"unknown\",\r\n          content: body.content,\r\n          metadata: body.metadata || {},\r\n          created_at: new Date().toISOString()\r\n        }), {\r\n          expirationTtl: 86400 // 24 hours\r\n        });\r\n        \r\n        // Notify via Telegram\r\n        const notifyMsg = `\uD83E\uDD16 *OPAL Content Received*\\n\\nType: ${body.type}\\nID: ${contentId}`;\r\n        await fetch(`https://api.telegram.org/bot${env.TELEGRAM_BOT_TOKEN}/sendMessage`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            chat_id: env.TELEGRAM_CHAT_ID,\r\n            text: notifyMsg,\r\n            parse_mode: \"Markdown\"\r\n          })\r\n        });\r\n        \r\n        return json({ success: true, content_id: contentId, received: body.type }, corsHeaders);\r\n      }\r\n\r\n      // === OPAL CONTENT LIST ===\r\n      if (path === \"/opal/content\" && request.method === \"GET\") {\r\n        const list = await env.YEDAN_KV.list({ prefix: \"opal:content:\" });\r\n        const contents = [];\r\n        for (const key of list.keys.slice(0, 10)) {\r\n          const data = await env.YEDAN_KV.get(key.name);\r\n          if (data) contents.push(JSON.parse(data));\r\n        }\r\n        return json({ success: true, contents }, corsHeaders);\r\n      }\r\n\r\n      // === SHOPIFY ACTION (cloud-triggered product/price updates) ===\r\n      if (path === \"/shopify/action\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        const actionId = `action_${Date.now()}`;\r\n        \r\n        // Queue action for processing\r\n        await env.YEDAN_KV.put(`shopify:action:${actionId}`, JSON.stringify({\r\n          id: actionId,\r\n          action: body.action, // \"create_product\", \"update_price\", etc.\r\n          payload: body.payload,\r\n          status: \"pending\",\r\n          created_at: new Date().toISOString()\r\n        }), {\r\n          expirationTtl: 3600\r\n        });\r\n        \r\n        return json({ success: true, action_id: actionId }, corsHeaders);\r\n      }\r\n\r\n      // === SHOPIFY ORDER WEBHOOK (receives order notifications) ===\r\n      if (path === \"/shopify/order\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        const orderId = body.id || `order_${Date.now()}`;\r\n        \r\n        // Extract order details\r\n        const orderData = {\r\n          order_id: orderId,\r\n          order_number: body.order_number,\r\n          total_price: body.total_price,\r\n          currency: body.currency || \"USD\",\r\n          customer_email: body.email || body.customer?.email,\r\n          products: (body.line_items || []).map(item => ({\r\n            title: item.title,\r\n            quantity: item.quantity,\r\n            price: item.price\r\n          })),\r\n          created_at: body.created_at || new Date().toISOString(),\r\n          received_at: new Date().toISOString()\r\n        };\r\n        \r\n        // Store order in KV\r\n        await env.YEDAN_KV.put(`shopify:order:${orderId}`, JSON.stringify(orderData), {\r\n          expirationTtl: 86400 * 30 // 30 days\r\n        });\r\n        \r\n        // Update daily sales counter\r\n        const today = new Date().toISOString().split('T')[0];\r\n        const dailyKey = `roi:sales:${today}`;\r\n        const dailySales = JSON.parse(await env.YEDAN_KV.get(dailyKey) || '{\"count\":0,\"revenue\":0}');\r\n        dailySales.count += 1;\r\n        dailySales.revenue += parseFloat(body.total_price || 0);\r\n        await env.YEDAN_KV.put(dailyKey, JSON.stringify(dailySales), { expirationTtl: 86400 * 90 });\r\n        \r\n        // Send Telegram notification\r\n        const saleMsg = `\uD83D\uDCB0 *NEW SALE!*\\n\\nOrder: #${body.order_number || orderId}\\nAmount: $${body.total_price}\\nCustomer: ${orderData.customer_email || 'N/A'}\\n\\nToday: ${dailySales.count} sales ($${dailySales.revenue.toFixed(2)})`;\r\n        \r\n        await fetch(`https://api.telegram.org/bot${env.TELEGRAM_BOT_TOKEN}/sendMessage`, {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            chat_id: env.TELEGRAM_CHAT_ID,\r\n            text: saleMsg,\r\n            parse_mode: \"Markdown\"\r\n          })\r\n        });\r\n        \r\n        return json({ success: true, order_id: orderId, daily_sales: dailySales }, corsHeaders);\r\n      }\r\n\r\n      // === SALES HISTORY (get recent orders) ===\r\n      if (path === \"/shopify/sales\" && request.method === \"GET\") {\r\n        const list = await env.YEDAN_KV.list({ prefix: \"shopify:order:\" });\r\n        const orders = [];\r\n        for (const key of list.keys.slice(0, 20)) {\r\n          const data = await env.YEDAN_KV.get(key.name);\r\n          if (data) orders.push(JSON.parse(data));\r\n        }\r\n        return json({ success: true, orders, count: orders.length }, corsHeaders);\r\n      }\r\n\r\n      // === DAILY REVENUE (for ROI tracking) ===\r\n      if (path === \"/roi/daily\" && request.method === \"GET\") {\r\n        const days = parseInt(url.searchParams.get('days') || '7');\r\n        const revenue = [];\r\n        for (let i = 0; i < days; i++) {\r\n          const date = new Date();\r\n          date.setDate(date.getDate() - i);\r\n          const dateStr = date.toISOString().split('T')[0];\r\n          const data = await env.YEDAN_KV.get(`roi:sales:${dateStr}`);\r\n          revenue.push({\r\n            date: dateStr,\r\n            ...(data ? JSON.parse(data) : { count: 0, revenue: 0 })\r\n          });\r\n        }\r\n        return json({ success: true, revenue }, corsHeaders);\r\n      }\r\n\r\n      // === ROI METRICS ===\r\n      if (path === \"/roi/metrics\" && request.method === \"GET\") {\r\n        const metrics = await env.YEDAN_KV.get(\"roi:metrics\");\r\n        return json({ success: true, metrics: JSON.parse(metrics || \"{}\") }, corsHeaders);\r\n      }\r\n\r\n      if (path === \"/roi/metrics\" && request.method === \"POST\") {\r\n        const body = await request.json();\r\n        await env.YEDAN_KV.put(\"roi:metrics\", JSON.stringify({\r\n          ...body,\r\n          updated_at: new Date().toISOString()\r\n        }));\r\n        return json({ success: true }, corsHeaders);\r\n      }\r\n\r\n      // Default response\r\n      return json({\r\n        success: true,\r\n        service: \"YEDAN Synapse API\",\r\n        version: \"2.1.0\",\r\n        endpoints: [\r\n          \"POST /heartbeat\",\r\n          \"GET /get/{key}\",\r\n          \"POST /set/{key}\",\r\n          \"POST /task/submit\",\r\n          \"GET /task/pending\",\r\n          \"POST /task/complete\",\r\n          \"GET /task/result/{id}\",\r\n          \"GET /status\",\r\n          \"GET|POST /strategy\",\r\n          \"POST /alert\",\r\n          \"POST /opal/webhook\",\r\n          \"GET /opal/content\",\r\n          \"POST /shopify/action\",\r\n          \"POST /shopify/order\",\r\n          \"GET /shopify/sales\",\r\n          \"GET /roi/daily\",\r\n          \"GET|POST /roi/metrics\"\r\n        ]\r\n      }, corsHeaders);\r\n\r\n    } catch (err) {\r\n      return json({ success: false, error: err.message }, corsHeaders, 500);\r\n    }\r\n  }\r\n};\r\n\r\nfunction json(data, corsHeaders, status = 200) {\r\n  return new Response(JSON.stringify(data), {\r\n    status,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      ...corsHeaders\r\n    }\r\n  });\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
