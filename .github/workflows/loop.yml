name: AGI Infinite Loop

on:
  workflow_dispatch: # å…è¨±æ‰‹å‹•è§¸ç™¼
  repository_dispatch: # å…è¨± API è§¸ç™¼
    types: [next-loop]

jobs:
  run-agi:
    runs-on: ubuntu-latest
    steps:
      - name: ä¸‹è¼‰å¤§è…¦
        uses: actions/checkout@v3

      - name: è¨­å®š Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: åŸ·è¡Œ AGI æ ¸å¿ƒ
        run: python main.py

      - name: è§¸ç™¼ä¸‹ä¸€æ¬¡è¼ªè¿´ (The Rebirth)
        if: success() # åªæœ‰æˆåŠŸæ‰è§¸ç™¼ï¼Œé¿å…å ±éŒ¯ç„¡é™è¿´åœˆ
        run: |
          echo "ğŸ”„ æ­£åœ¨å–šé†’ä¸‹ä¸€å€‹åˆ†èº«..."
          curl -X POST -H "Accept: application/vnd.github.v3+json"           -H "Authorization: token ${{ secrets.GH_PAT }}"           https://api.github.com/repos/YEDAN-Master/YEDAN-AGI/dispatches           -d '{"event_type":"next-loop"}'
